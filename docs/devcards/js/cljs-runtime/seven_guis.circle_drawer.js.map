{"version":3,"sources":["seven_guis/circle_drawer.cljs"],"mappings":"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","names":["js/seven-guis","js/seven-guis.circle-drawer","js/seven-guis.circle-drawer.component-ref","seven-guis.circle-drawer/component-ref","cljs.core.atom","js/seven-guis.circle-drawer.component-state","seven-guis.circle-drawer/component-state","reagent.core.atom","js/seven-guis.circle-drawer.ui","seven-guis.circle-drawer/ui","p__43421","map__43422","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply","cljs.core/hash-map","cljs.core.get","seven-guis.circle-drawer/draw-circle","ctx","x","y","radius","fill?","js/Math.PI","cljs.core/add-watch","p__43424","map__43425","_","circles","selected-circle-id","temp__5735__auto__","canvas","G__43427","cljs.core/deref","clear-canvas","draw-circles","cljs.core.dorun","cljs.core.map","cljs.core.partial","cljs.core/vals","selected-circle","fill-selected-circle","p__43428","map__43429","seven-guis.circle-drawer/create-circle","state","next-id","cljs.core/max","cljs.core.conj","cljs.core/keys","cljs.core.update","cljs.core/assoc","cljs.test/test-var","seven-guis.circle-drawer/create-circle-test","cljs.test.update_current_env_BANG_","cljs.core/conj","cljs.test/update-current-env!","cljs.core/rest","values__9937__auto__","cljs.core/List","result__9938__auto__","cljs.test/report","cljs.core/cons","t__9974__auto__","e43431","cljs.core/=","p__43433","p__43434","vec__43435","cljs.core.nth","vec__43438","seven-guis.circle-drawer/points-distance","x1","y1","x2","y2","p1__43432#","square","js/Math.sqrt","seven-guis.circle-drawer/points-distance-test","e43441","e43442","e43443","seven-guis.circle-drawer/position-relative-to-canvas","evt","G__43444","bound","scaleX","scaleY","p__43445","map__43446","seven-guis.circle-drawer/register-undo","old-circles","cljs.core._EQ_","cljs.core.assoc","seven-guis.circle-drawer/on-mouse-move","vec__43448","map__43451","distance-from-mouse","p__43452","map__43453","cx","cy","id","nearest","cljs.core/first","cljs.core.sort_by","and__4115__auto__","cljs.core.swap_BANG_","p__43456","map__43457","seven-guis.circle-drawer/on-canvas-click","vec__43459","seven-guis.circle-drawer/open-context-menu","ui-state","container","G__43462","cljs.core/assoc-in","seven-guis.circle-drawer/dismiss-popup","seven-guis.circle-drawer/open-diameter-dialog","seven-guis.circle-drawer/update-radius","new-radius","cljs.core.update_in","seven-guis.circle-drawer/diameter-dialog","map__43464","selected-id","p1__43463#","js/parseInt","p__43466","map__43467","vec__43468","seq__43469","cljs.core/seq","first__43470","cljs.core/next","seven-guis.circle-drawer/apply-undo","actual-state","restored-circles","p__43472","map__43473","vec__43474","seq__43475","first__43476","seven-guis.circle-drawer/apply-redo","p1__43478#","p1__43479#","p1__43480#","p1__43481#","p1__43482#","seven-guis.circle-drawer/component","cljs.core/empty?","s","p1__43483#","p__43491","vec__43492","map__43495","k","p1__43484#","p__43503","vec__43504","map__43507","seven-guis.circle-drawer/register-component!","seven-guis.util/define-custom-element!"],"sourcesContent":["(ns seven-guis.circle-drawer\n  (:require\n[cljs.test :refer [deftest testing is run-tests]]\n    [reagent.core :as reagent]\n    [seven-guis.util :as util]))\n\n(defonce component-ref (atom nil))\n(defonce component-state (reagent/atom {:circles {}\n                                        :selected-circle-id nil\n                                        :undo-states '()\n                                        :redo-states '()}))\n(defonce ui (reagent/atom {:popup {:x 0 :y 0}\n                           :context-menu {:visibility \"hidden\"}\n                           :diameter-dialog {:visibility \"hidden\"}}))\n\n(defn draw-circle [ctx {:keys [x y radius]} fill?]\n  (.beginPath ctx)\n  (.arc ctx x y radius 0 (* 2 js/Math.PI) true)\n  (set! (.-fillStyle ctx) \"gray\")\n  (if fill? (.fill ctx) (.stroke ctx)))\n\n(add-watch component-state :watcher\n   (fn [_ _ _ {:keys [circles selected-circle-id]}]\n     (when-let [canvas (some-> ^js @component-ref .-shadow (.querySelector \"canvas\"))]\n       (let [ctx (.getContext canvas \"2d\")\n             clear-canvas #(.clearRect ctx 0 0 (.-width canvas) (.-height canvas))\n             draw-circles #(dorun (map (partial draw-circle ctx) (vals circles)))\n             selected-circle (circles selected-circle-id)\n             fill-selected-circle #(when selected-circle (draw-circle ctx selected-circle true))]\n         (clear-canvas)\n         (draw-circles)\n         (fill-selected-circle)\n         ))))\n\n(defn create-circle [{:keys [circles] :as state} x y radius]\n  (let [next-id (inc (apply max (conj (keys circles) -1)))]\n    (update state :circles assoc next-id {:x x :y y :radius radius :id next-id})))\n\n(deftest create-circle-test\n  (testing\n    (is (= (-> {:circles {}}\n               (create-circle 0 0 10)\n               :circles)\n         {0 {:x 0 :y 0 :radius 10 :id 0}}))\n    ))\n\n(defn points-distance [[x1 y1] [x2 y2]]\n  (let [square #(* % %)]\n    (js/Math.sqrt (+ (square (- x2 x1)) (square (- y2 y1))))))\n\n(deftest points-distance-test\n  (testing\n    (is (= 5 (points-distance [0 0] [3 4])))\n    (is (= 5 (points-distance [1 1] [4 5])))\n    (is (= 13 (points-distance [1 1] [6 13])))))\n\n(defn position-relative-to-canvas [evt]\n  (when-let [canvas (some-> ^js @component-ref .-shadow (.querySelector \"canvas\"))]\n    (let [ctx (.getContext canvas \"2d\")\n          bound (.getBoundingClientRect canvas)\n          scaleX (/ (.-width canvas) (.-width bound))\n          scaleY (/ (.-height canvas) (.-height bound))\n          x (* (- (.-clientX evt) (.-left bound)) scaleX)\n          y (* (- (.-clientY evt) (.-top bound)) scaleY)]\n      [x y])))\n\n(defn register-undo [{:keys [circles] :as state} old-circles]\n  (if (= circles old-circles)\n    state\n    (-> state\n        (update :undo-states conj old-circles)\n        (assoc :redo-states '()))))\n\n(defn on-mouse-move [evt]\n  (let [[x y] (position-relative-to-canvas evt)\n        distance-from-mouse (fn [{cx :x cy :y}] (points-distance [x y] [cx cy]))\n        {:keys [id radius] :as nearest} (first (sort-by distance-from-mouse (vals (:circles @component-state))))]\n    (when (and x (< (distance-from-mouse nearest) radius))\n      (swap! component-state assoc :selected-circle-id id))))\n\n(defn on-canvas-click [{:keys [circles] :as state} evt]\n  (when-let [[x y] (position-relative-to-canvas evt)]\n    (-> state\n        (create-circle x y 10)\n        (register-undo circles))))\n\n(defn open-context-menu [ui-state evt]\n  (.preventDefault evt)\n  (let [container (some-> ^js @component-ref .-shadow (.querySelector \"#container\"))\n        bound (.getBoundingClientRect container)\n        x (- (.-clientX evt) (.-left bound))\n        y (- (.-clientY evt) (.-top bound))]\n    (-> ui-state\n        (assoc-in [:popup :x] x)\n        (assoc-in [:popup :y] y)\n        (assoc-in [:context-menu :visibility] \"visible\"))))\n\n(defn dismiss-popup [ui-state evt]\n  (-> ui-state\n      (assoc-in [:context-menu :visibility] \"hidden\")\n      (assoc-in [:diameter-dialog :visibility] \"hidden\")))\n\n(defn open-diameter-dialog [ui-state evt]\n  (-> ui-state\n      (assoc-in [:context-menu :visibility] \"hidden\")\n      (assoc-in [:diameter-dialog :visibility] \"visible\")))\n\n(defn update-radius [state new-radius]\n   (let [id (:selected-circle-id state)]\n     (update-in state [:circles id] assoc :radius new-radius)))\n\n(defn diameter-dialog []\n  (let [selected-id (:selected-circle-id @component-state)\n        {:keys [x y radius]} (-> @component-state :circles (get selected-id))]\n    (when (and x (= \"visible\" (-> @ui :diameter-dialog :visibility)))\n      [:div#diameter-dialog.popup\n       [:p \"Adjust diameter of circle at (\"(.toFixed x)\", \"(.toFixed y)\")\"]\n       [:input#range\n        {:type \"range\"\n         :value (-> @component-state :circles (get selected-id) :radius)\n         :onChange #(swap! component-state update-radius (-> % .-target .-value js/parseInt))}]])))\n\n(defn apply-undo [{actual-state :circles [restored-circles & _] :undo-states :as state}]\n  (-> state\n      (update :redo-states conj actual-state)\n      (assoc :circles restored-circles)\n      (update :undo-states rest)))\n\n(defn apply-redo [{actual-state :circles [restored-circles & _] :redo-states :as state}]\n  (-> state\n      (update :undo-states conj actual-state)\n      (assoc :circles restored-circles)\n      (update :redo-states rest)))\n\n(defn component []\n  [:<>\n   [:style\n    (str \"\n    #container {\n      position: relative;\n    }\n    .dismiss-popup-layer {\n      z-index: 1199;\n      background-color: rgb(0 0 0 / 0.02);\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      visibility: \"(if (or (= (-> @ui :context-menu :visibility) \"visible\")\n                           (= (-> @ui :diameter-dialog :visibility) \"visible\"))\n                     \"visible\"\n                     \"hidden\")\";\n    }\n    .popup {\n      z-index: 1200;\n      box-shadow: 2px 2px 10px 0px lightgrey;\n      padding: 7px;\n      width: fit-content;\n      background-color: white;\n      position: absolute;\n      left: \"(-> @ui :popup :x)\"px;\n      top: \"(-> @ui :popup :y)\"px;\n    }\n    #context-menu {\n      visibility: \"(-> @ui :context-menu :visibility)\";\n    }\n    #diameter-dialog {\n      visibility: \"(-> @ui :diameter-dialog :visibility)\";\n    }\n    #context-menu:hover {\n      background-color: lightgray;\n      cursor: pointer;\n    }\n    #range {\n      width: 100%;\n    }\n    canvas {\n      width: 100%;\n      height: 400px;\n      border: 1px solid lightgray;\n    }\n    .flex-evenly {\n      display: flex;\n      justify-content: space-evenly;\n      padding: 10px;\n    }\n    button {\n      font-size: large;\n      padding: 5px 15px;\n    }\n    \")]\n   [:div.flex-evenly\n    [:button {:disabled (empty? (:undo-states @component-state))\n              :onClick #(swap! component-state apply-undo)} \"Undo\"]\n    [:button {:disabled (empty? (:redo-states @component-state))\n              :onClick #(swap! component-state apply-redo)} \"Redo\"]]\n   [:div#container\n    [:canvas\n     {:onContextMenu #(swap! ui open-context-menu %)\n      :onMouseMove on-mouse-move\n      :onClick #(swap! component-state on-canvas-click %)}]\n    [:div.dismiss-popup-layer {:onClick #(do\n                                           (swap! component-state (fn [s] (register-undo s (:old-circles s))))\n                                           (swap! ui dismiss-popup %))\n                               :onContextMenu #(swap! ui open-context-menu %)}]\n    [:div#context-menu.popup {:onClick #(do\n                                          (swap! component-state (fn [s] (assoc s :old-circles (:circles s))))\n                                          (swap! ui open-diameter-dialog %))} \"Adjust diameter..\"]\n    [diameter-dialog]\n    [:p (str (map #(map (fn [[k {:keys [radius id]}]] {radius id}) %) (:undo-states @component-state)))]\n    [:p (str @component-state)]\n    [:p (str (map #(map (fn [[k {:keys [radius id]}]] {radius id}) %) (:redo-states @component-state)))]\n    ]])\n\n(defn ^:dev/after-load register-component! []\n  (util/define-custom-element! {:element-name \"circle-drawer\"\n                                :view-component component\n                                :this component-ref}))\n\n(register-component!)\n\n"]}